<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calm Web â€” Minimal Mode Simulator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar" role="banner" aria-label="Top bar">
    <div class="title">ğŸ§˜ Calm Web</div>
    <span class="label" id="modeLabel">Chaos Mode</span>
    <div class="breathe" aria-hidden="true" style="display:none"></div>
    <div class="spacer"></div>
    <div class="controls" role="group" aria-label="Controls">
      <button id="toggleMode" class="btn primary" aria-pressed="false">Toggle Calm Mode</button>
      <button id="reduceNoise" class="btn" title="Remove a random noisy element for demo">Reduce One Noise</button>
      <span class="label">Distraction score: <strong id="score">0</strong></span>
    </div>
  </header>

  <main class="page" role="main">
    <section class="content" aria-label="Main content">
      <!-- Loud banner -->
      <div class="banner noise" aria-live="polite">ğŸ”¥ Mega Flash Sale â€” Only Today! 95% OFF Everything! ğŸ”¥</div>

      <article class="readable" aria-labelledby="a-title">
        <h1 id="a-title">Breaking: Cats Take Over City Hall</h1>
        <p>In a stunning turn of events, a coalition of neighborhood cats has negotiated full control of the cityâ€™s snack budget. Eyewitnesses report that the council unanimously approved increased nap breaks and mandatory sunbeam zones.</p>
        <p>As events unfold, experts recommend stocking up on lint rollers and becoming proficient in the language of slow blinking. The mayorâ€™s office declined to comment, but purring was heard in the background.</p>

        <figure>
          <img src="https://images.unsplash.com/photo-1511044568932-338cba0ad803?q=80&w=1280&auto=format&fit=crop" alt="A dignified cat looking out a window">
          <figcaption style="padding: .5rem 1rem; color: var(--muted);">Exhibit A: The new Chief of Snacks.</figcaption>
        </figure>

        <p>Meanwhile, the city IT department has enabled a â€œcalm modeâ€ on official websites to help citizens focus on critical updates without distractions. Try it yourself using the button above.</p>
      </article>

      <!-- Marquee noise -->
      <div class="marquee noise" aria-hidden="true">
        <span>ğŸš¨ BREAKING DEALS ğŸš¨ 1000% APR CREDIT CARD! ğŸ’³ â€” </span>
        <span>YOU WON! CLAIM NOW! ğŸ â€” </span>
        <span>FREE COOKIES IF YOU CLICK HERE ğŸª â€” </span>
      </div>

      <!-- Autoplay video noise -->
      <div class="autoplay noise" aria-label="Autoplaying promo">
        <video autoplay muted loop playsinline>
          <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4" />
        </video>
      </div>

      <!-- Another ad -->
      <div class="ad noise">ğŸ’¥ 5 MYSTERY BOXES for the price of 1! Tap NOW!</div>
    </section>

    <aside class="sidebar" aria-label="Sidebar controls">
      <section class="panel">
        <h3>Reading preferences</h3>
        <div class="row">
          <label for="fontSize">Font size</label>
          <input id="fontSize" class="range" type="range" min="14" max="22" value="18" />
        </div>
        <div class="row">
          <label for="lineHeight">Line height</label>
          <input id="lineHeight" class="range" type="range" min="1.3" max="2.0" value="1.7" step=".05" />
        </div>
        <div class="row">
          <label for="maxWidth">Max width (ch)</label>
          <input id="maxWidth" class="range" type="range" min="48" max="90" value="65" />
        </div>
        <div class="row">
          <label for="gap">Paragraph gap</label>
          <input id="gap" class="range" type="range" min="0.6" max="2.4" step=".1" value="1.25" />
        </div>
        <div class="row">
          <span class="label">Ambient calm</span>
          <button id="ambientBtn" class="btn" aria-pressed="false">Off</button>
        </div>
      </section>

      <section class="panel">
        <h3>About this app</h3>
        <p>This page intentionally includes <em>noisy</em> elements (ads, popups, autoplay video, marquees). Toggle <strong>Calm Mode</strong> to remove distractions and apply a gentle reading theme. Your settings are saved in your browser.</p>
      </section>
    </aside>
  </main>

  <!-- Popup newsletter noise -->
  <div class="popup noise" role="dialog" aria-modal="true" aria-labelledby="popTitle">
    <div style="display:flex; align-items:center; gap:.75rem;">
      <strong id="popTitle">Wait! Donâ€™t leave!</strong>
      <span style="color:var(--muted);">Subscribe for 999% more alerts.</span>
    </div>
    <form onsubmit="event.preventDefault(); this.closest('.popup').remove();">
      <label>Email <input type="email" required placeholder="you@example.com" style="width:100%;padding:.5rem;border-radius:8px;border:1px solid #ddd;margin:.5rem 0;" /></label>
      <div style="display:flex; gap:.5rem; justify-content:flex-end;">
        <button class="btn" type="button" onclick="this.closest('.popup').remove()">No thanks</button>
        <button class="btn primary" type="submit">Subscribe</button>
      </div>
    </form>
  </div>

  <footer class="site">
    Â© 2025 Calm Web â€¢ HTML â€¢ CSS â€¢ JS â€¢
    <a href="#" id="bookmarkletLink">Get Calm Bookmarklet</a>
  </footer>

  <script src="app.js" defer></script>
</body>
</html>
